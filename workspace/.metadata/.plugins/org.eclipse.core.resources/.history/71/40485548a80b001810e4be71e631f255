package monitor;

import archivos.*;

public class Politicas {
	
	private static Lector lector = new Lector();
	private int porcentajeA, porcentajeB, porcentajeC;
	
	public Politicas () {
		
		Matriz porcentajes = lector.leerPorcentajes();
		porcentajeA = porcentajes.getValor(0, 0);
		porcentajeB = porcentajes.getValor(0, 1);
		porcentajeC = porcentajes.getValor(0, 2);
	}
	
	public int cual(Matriz m) {
		
		int piezasA = (int)System.getProperty("a");
		
		
		
		double porcentajeActualA = calcularPorcentaje(Escritor.a, Escritor.a + Escritor.b + Escritor.c);
		double porcentajeActualB = calcularPorcentaje(Escritor.getInstance().b, Escritor.getInstance().a + Escritor.getInstance().b + Escritor.getInstance().c);
		double porcentajeActualC = calcularPorcentaje(Escritor.getInstance().c, Escritor.getInstance().a + Escritor.getInstance().b + Escritor.getInstance().c);

		Matriz politica = new Matriz(1, m.getColumnas());
		
		if (porcentajeActualA < porcentajeA) {
			for ( int i = 0 ; i < 10 ; i++ ) {
				politica.setValor(0, i, i + 15);
			}
		}
		
		if (porcentajeActualB < porcentajeB) {
			for ( int i = 10 ; i < 14 ; i++ ) {
				politica.setValor(0, i, i);
			}
		}
		
		if (porcentajeActualC < porcentajeC) {
			for ( int i = 14 ; i < politica.getColumnas() ; i++ ) {
				politica.setValor(0, i, i);
			}
		}
		
		int t = 0, may = 0;
		for (int i = 0; i < m.getColumnas() ; i++) {
			if (m.getValor(0, i) == 1 && politica.getValor(0, i) >= may ) { 
				may = politica.getValor(0, i); 
				t = i; 
			}
		}
		return t;
	}

	public double calcularPorcentaje(double piezas, double total) {
		return (piezas/total)*100;
	}
}
