package monitor;

import archivos.Escritor;
import archivos.Matriz;

public class Politicas {
	
	private int pol;
	
					//{t10,t11,t12,t13,t14,t15,t16,t17,t18,t19, t20,t21,t22,t23, t30, t31, t32,t33, t34,t35} 
	//int[] politica2 = { 11,  5,  5,  15,  5,  5,  5,  5,  5,  5,  15,  15,  15,  15,  11,  5,  5, 5,  13,  4};
	public Politicas () {
		pol = 2;
	    //int[] iPolitica = { 20,  7,  7,  7,  6,  7,  6,  7,  6,  1,  15,  5,  5,  1,  10,  3,  3,  3,  3,  1};
	}
	
	public int cual(Matriz m, Matriz s) {
		
		if (pol == 1)
			return politica1(m);
		else
			return politica2(m, s);
	}
	
	public int politica1(Matriz m) {
		int t = 0, may = 0;
		int[] politica1 = { 10,  3,  3,  3,  3,  3,  3,  3,  3,  1,  10,  3,  3,  1,  15,  13,  13, 13,  13,  5};
						//{t10,t11,t12,t13,t14,t15,t16,t17,t18,t19, t20,t21,t22,t23, t30, t31, t32,t33, t34,t35} 
		for (int i = 0; i < m.getColumnas() ; i++) {
			if (m.getValor(0, i) == 1 && politica1[i] > may ) { may = politica1[i]; t = i; }
		}
		return t;
	}
	
	public int politica2(Matriz m, Matriz s) {
		
		double porcentajePiezasA = calcularPorcentaje(Escritor.getInstance().a, Escritor.getInstance().a + Escritor.getInstance().b + Escritor.getInstance().c);
		double porcentajePiezasB = calcularPorcentaje(Escritor.getInstance().b, Escritor.getInstance().a + Escritor.getInstance().b + Escritor.getInstance().c);
		double porcentajePiezasC = calcularPorcentaje(Escritor.getInstance().c, Escritor.getInstance().a + Escritor.getInstance().b + Escritor.getInstance().c);
		/*
		System.out.print("A%" + porcentajePiezasA + "\n");
		System.out.print("B%" + porcentajePiezasB + "\n");
		System.out.print("C%" + porcentajePiezasC + "\n");
		 */
		Matriz politica2 = new Matriz(1, m.getColumnas());
		
		if (porcentajePiezasC < 16.66) {
			for ( int i = 14 ; i < politica2.getColumnas() ; i++ ) {
				politica2.setValor(0, i, i);
			}
		}
		if (porcentajePiezasA < 51) {
			for ( int i = 0 ; i < 10 ; i++ ) {
				politica2.setValor(0, i, i + 15);
			}
		}
		if (porcentajePiezasB < 33) {
			for ( int i = 10 ; i < 14 ; i++ ) {
				politica2.setValor(0, i, i);
			}
		}
		
		int t = 0, may = 0;
		System.out.print("M " + m.toString());
		System.out.print("P " + politica2.toString());
		for (int i = 0; i < m.getColumnas() ; i++) {
			if (m.getValor(0, i) == 1 && politica2.getValor(0, i) >= may ) { 
				may = politica2.getValor(0, i); 
				t = i; 
				}
		}
		if (s.esUno()) return t;
		else if (m.esUno() && !s.esUno() && m.mult(politica2).esCero()) return -1;
		else if (!m.esUno() && m.mult(politica2).esCero()) return elPrimero(m);
		else return t;
	}

	public double calcularPorcentaje(double piezas, double total) {
		return (piezas/total)*100;
	}
	
	public int elPrimero(Matriz m) {
		int t = 0;
		for (int i = 0; i < m.getColumnas() ; i++) {
			if (m.getValor(0, i) == 1) {
				t = i;
				break;
			}
		}
		return t;
	}
}
